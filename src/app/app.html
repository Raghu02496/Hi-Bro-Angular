<div>
    <header></header>
</div>

<div class="game-container">
    <div class="interrogate-box-container" [formGroup]="interrogateFormGrp">
        <textarea class="interrogate-box" formControlName="content" (keyup.enter)="msgChatGpt()"></textarea>
        <!-- <button (click)="msgChatGpt()">Send</button> -->
    </div>
    <div class="response-container" #responseBox>
        @for(conversation of conversationArr;track $index){
            <div style="padding: 5px;">
                <b>{{conversation.role === 'user' ? 'You' : interrogatingSuspect.name}}</b> : {{conversation.content}} <br>
            </div>
        }
    </div>

    <div class="case-details">
        @if (caseDetails) {
            {{caseDetails.description}}
            <div class="suspects-container">
                Suspects : 
                @for (item of caseDetails.suspects; track $index) {
                    <div>{{item.name}} : {{item.role}}</div>
                    <input type="checkbox" [checked]="interrogatingSuspect?._id === item._id" (change)="interrogatingSuspect = item;getConversation()">
                }
            </div>
        }
    </div>
</div>


<router-outlet />