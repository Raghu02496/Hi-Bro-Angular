<div class="game-container">
    <div class="header-container">
        <header></header>
    </div>

    <div class="interrogate-box-container" [formGroup]="interrogateFormGrp">
        <textarea class="interrogate-box" formControlName="content" (keyup.enter)="msgChatGpt()"></textarea>
    </div>

    <div class="case-description">
        @if (caseDetails) {
            {{caseDetails.description}}
        }
    </div>

    <div class="response-container" #responseBox>
        @for(conversation of conversationArr;track $index){
            <div style="padding: 5px;">
                <b>{{conversation.role === 'user' ? 'You' : interrogatingSuspect.name}}</b> : {{conversation.content}} <br>
            </div>
        }
    </div>

    @if (caseDetails) {
        <div class="suspects-container">
            Suspects : 
            @for (item of caseDetails.suspects; track $index) {
                <div>{{item.name}} : {{item.role}}</div>
                <input type="radio" [checked]="interrogatingSuspect?._id === item._id" (change)="interrogatingSuspect = item;getConversation()">
            }
        </div>
    }
</div>


<router-outlet />